{% extends './sidennav.html' %}
{% load static %}
{% static "images" as baseUrl %}

{% block content %}
<div class="main-panel">
  <div class="content-wrapper">
    <div class="float-right mb-3">
      <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal">
      Add Product
      </button> 
      <!-- Modal -->
      <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">New Product</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
            <!-- Form -->
              <form method="POST" action="http://localhost:8000/vendor/products/add-new-products/" enctype='multipart/form-data'> 
                {% csrf_token %}
                <div class="form-group">
                  <label for="name">Name</label>
                  <input type="name" name="name" class="form-control" placeholder="Enter name">
                </div>
                <div class="form-group">
                  <label for="price">Price</label>
                  <input type="number" name="price" class="form-control" placeholder="Enter price">
                </div>
                <div class="form-group">
                  <label for="stock">Stock</label>
                  <input type="number" name="stock" class="form-control" placeholder="Enter stock">
                </div>
                <div class="form-group">
                  <label for="image">Upload Image</label>
                  <input type="file" name="image" class="form-control">
                </div>
                <button type="submit" class="btn btn-primary">Submit</button>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
    <table class="table">
      <thead style="background-color:#5B6D7C">
        <tr>
          <th scope="col" style=" padding-left:50px; color:white; font-size:20px">S. No.</th>
          <th scope="col" style=" color:white; font-size:20px">Name</th>
          <th scope="col" style=" color:white; font-size:20px">Price</th>
          <th scope="col" style=" color:white; font-size:20px">Stock</th>
          <th scope="col" style=" color:white; font-size:20px">Image</th>
          <th scope="col" style=" color:white; font-size:20px">Status</th>
        </tr>
      </thead>
      <tbody>
      {% for prod in products %}
        <tr>
          <th style=" padding-left:50px"> 1</th>
          <th>{{prod.name}}</th>
          <th>{{prod.price}}</th>
          <th>{{prod.stock}}</th>
          <th>
            <img src="../../media/{{prod.image}}">
          </th>
          <th><span class="badge badge-pill badge-primary">True</span></th>
        </tr>
      {% endfor %}
      </tbody>
    </table>
  </div>
</div>
      
{% endblock %}