{% extends './sidennav.html' %}
{% load static %}
{% static "images" as baseUrl %}

{% block content %}
<div class="main-panel">
  <div class="content-wrapper">
    <div class="float-right"> 
    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal">
      Add Product
      </button> 
      <!-- Modal -->
      <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">New Product</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
            <!-- Form -->
              <form method="POST" action="http://localhost:8000/vendor/products/add-new-products/" enctype='multipart/form-data'> 
                {% csrf_token %}
                <div class="form-group">
                  <label for="name">Name</label>
                  <input type="name" name="name" class="form-control" placeholder="Enter name">
                </div>
                <div class="form-group">
                  <label for="desc">Description</label>
                  <input type="text" name="desc" class="form-control" placeholder="Enter Description for your product">
                </div>
                <div class="form-group">
                  <label for="price">Price</label>
                  <input type="number" name="price" class="form-control" placeholder="Enter price">
                </div>
                <div class="form-group">
                  <label for="stock">Stock</label>
                  <input type="number" name="stock" class="form-control" placeholder="Enter stock">
                </div>
                <div class="form-group">
                  <label for="image">Upload Image</label>
                  <input type="file" name="image" class="form-control">
                </div>
                <button type="submit" class="btn btn-primary">Submit</button>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="card">
      <div class="card-body">
      <h4 class="card-title" style='font-size:20px'>Products Table</h4>
        <table class="table table-striped">
          <thead>
            <tr>
              <th> Image </th>
              <th> Name </th>
              <th> Description </th>
              <th> Price </th>
              <th> Stock</th>
            </tr>
          </thead>
          <tbody>
          {% for prod in products %}
            <tr>
              <td class="py-1">
                <img src="../../media/{{prod.image}}">
              <td> {{prod.name}} </td>
              <td>{{prod.desc}}</td>
              <td>
                â‚¹ {{prod.price}}.00
              </td>
              <td>
                {{prod.stock}} Units
              </td>
              
            </tr>
          {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
</div>
      
{% endblock %}